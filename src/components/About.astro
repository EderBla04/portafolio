---
// Componente About - Sección sobre mí
import { Icon } from 'astro-icon/components';
---

<section id="about" class="py-20 bg-black">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold text-white mb-4">
        Sobre <span class="text-blue-400">Mí</span>
      </h2>
      <div class="w-24 h-1 bg-blue-400 mx-auto"></div>
    </div>
    
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
      <!-- Información personal -->
      <div class="space-y-6">
        <h3 class="text-2xl font-semibold text-white mb-4">
          Mi Historia
        </h3>
        <p class="text-gray-300 text-lg leading-relaxed">
          Soy un desarrollador apasionado por la tecnología y la innovación. 
          Mi journey en el mundo del desarrollo comenzó hace 2 años y desde entonces 
          he estado constantemente aprendiendo y mejorando mis habilidades.
        </p>
        <p class="text-gray-300 text-lg leading-relaxed">
          Me especializo en crear aplicaciones web y móviles modernas, escalables y con 
          excelente experiencia de usuario. Mi enfoque es el desarrollo Full Stack con Flutter para 
          aplicaciones móviles y tecnologías web actuales, siempre buscando las mejores prácticas y soluciones innovadoras.
        </p>
        <p class="text-gray-300 text-lg leading-relaxed">
          Cuando no estoy codificando, dedico tiempo a explorar nuevas tecnologías emergentes, 
          participar en comunidades de desarrolladores y trabajar en proyectos personales 
          que me permiten experimentar con herramientas y frameworks innovadores.
        </p>
      </div>
      
      <!-- Skills y tecnologías -->
      <div class="space-y-8">
        <h3 class="text-2xl font-semibold text-white mb-6">
          Tecnologías y Herramientas
        </h3>
        
        <!-- Frontend -->
        <div>
          <h4 class="text-lg font-medium text-blue-400 mb-3">Frontend</h4>
          <div class="flex flex-wrap gap-3">
            <!-- HTML5 -->
            <div class="flex items-center gap-2 bg-blue-900/30 px-3 py-2 rounded-full border border-blue-700 hover:bg-blue-900/40 transition-colors">
              <Icon name="simple-icons:html5" class="w-4 h-4" />
              <span class="text-blue-300 text-sm font-medium">HTML5</span>
            </div>
            
            <!-- CSS3 -->
            <div class="flex items-center gap-2 bg-blue-900/30 px-3 py-2 rounded-full border border-blue-700 hover:bg-blue-900/40 transition-colors">
              <Icon name="simple-icons:css3" class="w-4 h-4" />
              <span class="text-blue-300 text-sm font-medium">CSS3</span>
            </div>
            
            <!-- JavaScript -->
            <div class="flex items-center gap-2 bg-blue-900/30 px-3 py-2 rounded-full border border-blue-700 hover:bg-blue-900/40 transition-colors">
              <Icon name="simple-icons:javascript" class="w-4 h-4" />
              <span class="text-blue-300 text-sm font-medium">JavaScript</span>
            </div>
            
            <!-- TypeScript -->
            <div class="flex items-center gap-2 bg-blue-900/30 px-3 py-2 rounded-full border border-blue-700 hover:bg-blue-900/40 transition-colors">
              <Icon name="simple-icons:typescript" class="w-4 h-4" />
              <span class="text-blue-300 text-sm font-medium">TypeScript</span>
            </div>
            
            <!-- React -->
            <div class="flex items-center gap-2 bg-blue-900/30 px-3 py-2 rounded-full border border-blue-700 hover:bg-blue-900/40 transition-colors">
              <Icon name="simple-icons:react" class="w-4 h-4" />
              <span class="text-blue-300 text-sm font-medium">React</span>
            </div>
            
            <!-- Astro -->
            <div class="flex items-center gap-2 bg-blue-900/30 px-3 py-2 rounded-full border border-blue-700 hover:bg-blue-900/40 transition-colors">
              <Icon name="simple-icons:astro" class="w-4 h-4" />
              <span class="text-blue-300 text-sm font-medium">Astro</span>
            </div>
          </div>
        </div>
        
        <!-- Backend -->
        <div>
          <h4 class="text-lg font-medium text-blue-400 mb-3">Backend</h4>
          <div class="flex flex-wrap gap-3">
            <!-- Node.js -->
            <div class="flex items-center gap-2 bg-blue-900/30 px-3 py-2 rounded-full border border-blue-700 hover:bg-blue-900/40 transition-colors">
              <Icon name="simple-icons:nodedotjs" class="w-4 h-4" />
              <span class="text-blue-300 text-sm font-medium">Node.js</span>
            </div>
            
            <!-- Python -->
            <div class="flex items-center gap-2 bg-blue-900/30 px-3 py-2 rounded-full border border-blue-700 hover:bg-blue-900/40 transition-colors">
              <Icon name="simple-icons:python" class="w-4 h-4" />
              <span class="text-blue-300 text-sm font-medium">Python</span>
            </div>
            
            <!-- Java -->
            <div class="flex items-center gap-2 bg-blue-900/30 px-3 py-2 rounded-full border border-blue-700 hover:bg-blue-900/40 transition-colors">
              <Icon name="simple-icons:openjdk" class="w-4 h-4" />
              <span class="text-blue-300 text-sm font-medium">Java</span>
            </div>
            
            <!-- Laravel -->
            <div class="flex items-center gap-2 bg-blue-900/30 px-3 py-2 rounded-full border border-blue-700 hover:bg-blue-900/40 transition-colors">
              <Icon name="simple-icons:laravel" class="w-4 h-4" />
              <span class="text-blue-300 text-sm font-medium">Laravel</span>
            </div>
            
            <!-- PostgreSQL -->
            <div class="flex items-center gap-2 bg-blue-900/30 px-3 py-2 rounded-full border border-blue-700 hover:bg-blue-900/40 transition-colors">
              <Icon name="simple-icons:postgresql" class="w-4 h-4" />
              <span class="text-blue-300 text-sm font-medium">PostgreSQL</span>
            </div>
            
            <!-- PHP -->
            <div class="flex items-center gap-2 bg-blue-900/30 px-3 py-2 rounded-full border border-blue-700 hover:bg-blue-900/40 transition-colors">
              <Icon name="simple-icons:php" class="w-4 h-4" />
              <span class="text-blue-300 text-sm font-medium">PHP</span>
            </div>
          </div>
        </div>
        
        <!-- Desarrollo Móvil -->
        <div>
          <h4 class="text-lg font-medium text-blue-400 mb-3">Desarrollo Móvil</h4>
          <div class="flex flex-wrap gap-3">
            <!-- Flutter -->
            <div class="flex items-center gap-2 bg-blue-900/30 px-3 py-2 rounded-full border border-blue-700 hover:bg-blue-900/40 transition-colors">
              <Icon name="simple-icons:flutter" class="w-4 h-4" />
              <span class="text-blue-300 text-sm font-medium">Flutter</span>
            </div>
            
            <!-- Dart -->
            <div class="flex items-center gap-2 bg-blue-900/30 px-3 py-2 rounded-full border border-blue-700 hover:bg-blue-900/40 transition-colors">
              <Icon name="simple-icons:dart" class="w-4 h-4" />
              <span class="text-blue-300 text-sm font-medium">Dart</span>
            </div>
          </div>
        </div>
        
        <!-- Herramientas -->
        <div>
          <h4 class="text-lg font-medium text-blue-400 mb-3">Herramientas</h4>
          <div class="flex flex-wrap gap-3">
            <!-- Git -->
            <div class="flex items-center gap-2 bg-blue-900/30 px-3 py-2 rounded-full border border-blue-700 hover:bg-blue-900/40 transition-colors">
              <Icon name="simple-icons:git" class="w-4 h-4" />
              <span class="text-blue-300 text-sm font-medium">Git</span>
            </div>
            
            <!-- Docker -->
            <div class="flex items-center gap-2 bg-blue-900/30 px-3 py-2 rounded-full border border-blue-700 hover:bg-blue-900/40 transition-colors">
              <Icon name="simple-icons:docker" class="w-4 h-4" />
              <span class="text-blue-300 text-sm font-medium">Docker</span>
            </div>
            
            <!-- VS Code -->
            <div class="flex items-center gap-2 bg-blue-900/30 px-3 py-2 rounded-full border border-blue-700 hover:bg-blue-900/40 transition-colors">
              <Icon name="simple-icons:visualstudiocode" class="w-4 h-4" />
              <span class="text-blue-300 text-sm font-medium">VS Code</span>
            </div>
            
            <!-- Linux -->
            <div class="flex items-center gap-2 bg-blue-900/30 px-3 py-2 rounded-full border border-blue-700 hover:bg-blue-900/40 transition-colors">
              <Icon name="simple-icons:linux" class="w-4 h-4" />
              <span class="text-blue-300 text-sm font-medium">Linux</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Estadísticas o métricas -->
    <div class="mt-16 grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
      <div class="space-y-2">
        <div class="text-3xl font-bold text-blue-400">2+</div>
        <div class="text-gray-400">Años de Experiencia</div>
      </div>
      <div class="space-y-2">
        <div class="text-3xl font-bold text-blue-400">3</div>
        <div class="text-gray-400">Proyectos Desarrollados</div>
      </div>
      <div class="space-y-2">
        <div class="text-3xl font-bold text-blue-400" id="github-commits">0+</div>
        <div class="text-gray-400">Commits en GitHub</div>
      </div>
    </div>
  </div>
</section>

<script>
  // Función para obtener commits de GitHub
  async function fetchGitHubCommits() {
    try {
      const username = 'EderBla04'; // Tu username de GitHub
      const response = await fetch(`https://api.github.com/users/${username}/repos?per_page=100`);
      
      if (!response.ok) {
        throw new Error('Error al obtener repositorios');
      }
      
      const repos = await response.json();
      let totalCommits = 0;
      
      // Obtener commits de cada repositorio público
      const commitPromises = repos.map(async (repo: any) => {
        try {
          const commitsResponse = await fetch(`https://api.github.com/repos/${username}/${repo.name}/commits?per_page=100`);
          if (commitsResponse.ok) {
            const commits = await commitsResponse.json();
            return commits.length;
          }
          return 0;
        } catch (error) {
          return 0;
        }
      });
      
      const commitCounts = await Promise.all(commitPromises);
      totalCommits = commitCounts.reduce((sum: number, count: number) => sum + count, 0);
      
      // Actualizar el elemento en la página
      const commitsElement = document.getElementById('github-commits');
      if (commitsElement) {
        commitsElement.textContent = `${totalCommits}+`;
      }
      
    } catch (error) {
      console.error('Error al obtener commits de GitHub:', error);
      // En caso de error, mostrar un número estimado
      const commitsElement = document.getElementById('github-commits');
      if (commitsElement) {
        commitsElement.textContent = '100+';
      }
    }
  }
  
  // Ejecutar cuando la página se carga
  document.addEventListener('DOMContentLoaded', fetchGitHubCommits);
</script>
